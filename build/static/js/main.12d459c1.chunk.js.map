{"version":3,"sources":["context/AuthReducer.js","context/AuthContext.js","connection.js","pages/MyMap/MyMap.jsx","components/popupwindow/Popupwindow.jsx","components/topbar/Topbar.jsx","components/sidebar/Sidebar.jsx","components/post/Post.jsx","components/share/Share.jsx","components/feed/Feed.jsx","components/rightbar/Rightbar.jsx","pages/home/Home.jsx","apiCalls.js","pages/login/Login.jsx","pages/profile/Profile.jsx","pages/register/Register.jsx","components/conversations/Conversation.jsx","components/message/Message.jsx","components/chatOnline/ChatOnline.jsx","pages/messenger/Messenger.jsx","App.js","index.js"],"names":["AuthReducer","state","action","type","user","token","isFetching","error","payload","_objectSpread","followings","concat","_toConsumableArray","filter","following","INITIAL_STATE","JSON","parse","localStorage","getItem","AuthContext","createContext","storeContext","AuthContextProvider","_ref","children","_useReducer","useReducer","_useReducer2","_slicedToArray","dispatch","_useState","useState","_useState2","passobject","setPassobject","useEffect","setItem","stringify","_jsx","Provider","value","BASE_URL","process","SOCKET_URL","containerStyle","width","height","MyMap","currentPos","setCurrentPos","_useState3","_useState4","selectedLocation","setSelectedLocation","_useState5","_useState6","nearbyUsers","setNearbyUsers","config","navigator","geolocation","getCurrentPosition","position","pos","lat","coords","latitude","lng","longitude","fetchNearbyUsers","_asyncToGenerator","_regeneratorRuntime","mark","_callee","res","wrap","_context","prev","next","axios","get","sent","console","log","data","t0","stop","_x","_x2","apply","arguments","LoadScript","googleMapsApiKey","googlemapsapikey","_jsxs","GoogleMap","mapContainerStyle","center","zoom","onClick","e","newLocation","latLng","Marker","label","map","idx","location","coordinates","name","Popupwindow","onClose","className","Topbar","useContext","PF","showModal","setShowModal","Link","to","style","textDecoration","Search","placeholder","Place","color","Chat","Notifications","username","src","profilePicture","alt","removeItem","_id","window","reload","backgroundColor","border","borderRadius","padding","cursor","FontAwesomeIcon","icon","faPowerOff","fontSize","margin","Sidebar","RssFeed","Post","post","likes","length","like","setLike","isLiked","setIsLiked","setUser","currentUser","history","useHistory","includes","_ref2","userId","fetchUser","messageClick","_ref3","_callee2","postuser","senderId","receiverId","newconv","_context2","push","likeHandler","put","err","format","createdAt","MoreVert","desc","img","startsWith","comment","Share","useRef","file","setFile","submitHandler","newPost","fileName","preventDefault","current","FormData","Date","now","append","url","t1","ref","URL","createObjectURL","Cancel","onSubmit","htmlFor","PermMedia","htmlColor","display","id","accept","onChange","target","files","Label","Room","EmojiEmotions","Feed","posts","setPosts","updateuserlocation","latti","longi","userid","_x3","_x4","_ref4","_callee3","_context3","sort","p1","p2","fetchPosts","p","Rightbar","setFriends","_useContext","friendList","getFriends","Home","_Fragment","loginCall","userCredential","Login","email","password","handleClick","otpemail","setotpEmail","sendOtp","fetch","method","headers","body","alert","otp","setOtp","verifyOtp","json","message","required","minLength","disabled","CircularProgress","size","Profile","useParams","Authorization","coverPicture","Register","passwordAgain","setCustomValidity","Conversation","conversation","friendId","members","find","m","getUser","Message","own","text","ChatOnline","onlineUsers","currentId","setCurrentChat","friends","onlineFriends","setOnlineFriends","f","o","Messenger","conversations","setConversations","currentChat","messages","setMessages","_useState7","_useState8","newMessage","setNewMessage","_useState9","_useState0","arrivalMessage","setArrivalMessage","_useState1","_useState10","setOnlineUsers","socket","scrollRef","io","on","sender","emit","users","some","u","getConversations","getMessages","handleSubmit","_callee4","_context4","conversationId","member","_scrollRef$current","scrollIntoView","behavior","c","App","Router","Switch","Route","exact","path","Redirect","ReactDOM","render","React","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.12d459c1.chunk.js","sourcesContent":["const AuthReducer = (state, action) => {\n  switch (action.type) {\n    case \"LOGIN_START\":\n      return {\n        user: null,\n        token: null,\n        isFetching: true,\n        error: false,\n      };\n    case \"LOGIN_SUCCESS\":\n      return {\n        user: action.payload.user,\n        token: action.payload.token,\n        isFetching: false,\n        error: false,\n      };\n    case \"LOGIN_FAILURE\":\n      return {\n        user: null,\n        token: null,\n        isFetching: false,\n        error: true,\n      };\n    case \"FOLLOW\":\n      return {\n        ...state,\n        user: {\n          ...state.user,\n          followings: [...state.user.followings, action.payload],\n        },\n      };\n    case \"UNFOLLOW\":\n      return {\n        ...state,\n        user: {\n          ...state.user,\n          followings: state.user.followings.filter(\n            (following) => following !== action.payload\n          ),\n        },\n      };\n    default:\n      return state;\n  }\n};\n\nexport default AuthReducer;\n","import { createContext, useEffect, useReducer,useState } from \"react\";\nimport AuthReducer from \"./AuthReducer\";\n\nconst INITIAL_STATE = {\n  user:JSON.parse(localStorage.getItem(\"user\")) || null,\n  token: localStorage.getItem(\"token\") || null,\n  isFetching: false,\n  error: false,\n};\n\n\nexport const AuthContext = createContext(INITIAL_STATE);\nexport const storeContext = createContext();\n\nexport const AuthContextProvider = ({ children }) => {\n  const [state, dispatch] = useReducer(AuthReducer, INITIAL_STATE);\n   const [passobject, setPassobject] = useState(null);\n  \n  useEffect(()=>{\n    localStorage.setItem(\"user\", JSON.stringify(state.user));\n    localStorage.setItem(\"token\", state.token || \"\");\n  },[state.user, state.token])\n  \n  return (\n    <AuthContext.Provider\n      value={{\n        user: state.user,\n        token: state.token,\n        isFetching: state.isFetching,\n        error: state.error,\n        dispatch,\n      }}\n    ><storeContext.Provider value={{ passobject,setPassobject }}>\n      {children}\n      </storeContext.Provider>\n    </AuthContext.Provider>\n  );\n};\n","//const isProduction = 'dev';\r\nconst isProduction = 'production';\r\n\r\nconst BASE_URL = isProduction==='production'\r\n  ? process.env.REACT_APP_API_URL_prod\r\n  : process.env.REACT_APP_API_URL_dev;\r\n\r\nconst SOCKET_URL = isProduction==='production'\r\n  ? process.env.REACT_APP_API_SocketURL_prod\r\n  : process.env.REACT_APP_API_SocketURL_dev;\r\n\r\nexport default {BASE_URL,SOCKET_URL};\r\n","import React, { useState, useEffect } from \"react\";\r\nimport {\r\n  GoogleMap,\r\n  LoadScript,\r\n  Marker\r\n} from \"@react-google-maps/api\";\r\nimport axios from \"axios\";\r\nimport config  from '../../connection';\r\n\r\nconst containerStyle = {\r\n  width: \"100%\",\r\n  height: \"500px\"\r\n};\r\n\r\nconst MyMap = () => {\r\n  const [currentPos, setCurrentPos] = useState(null); // User's current location\r\n  const [selectedLocation, setSelectedLocation] = useState(null); // Dropped pin\r\n  const [nearbyUsers, setNearbyUsers] = useState([]);\r\n  const {BASE_URL}=config \r\n\r\n  // Get user's current location on load\r\n  useEffect(() => {\r\n    navigator.geolocation.getCurrentPosition((position) => {\r\n      const pos = {\r\n        lat: position.coords.latitude,\r\n        lng: position.coords.longitude\r\n      };\r\n      setCurrentPos(pos);\r\n      setSelectedLocation(pos); // Default to current location\r\n      fetchNearbyUsers(pos.lat, pos.lng);\r\n    });\r\n  }, []);\r\n\r\n  \r\n    const fetchNearbyUsers = async (lat, lng) => {\r\n      try {\r\n        const res = await axios.get(`${BASE_URL}/maps/nearby-users?lat=${lat}&lng=${lng}`);\r\n        console.log(\"nearby-users\",res.data);\r\n        setNearbyUsers(res.data);\r\n      } catch (err) {\r\n        console.log(err);\r\n      }\r\n    };\r\n\r\n\r\n  // const fetchNearbyUsers = (lat, lng) => {\r\n  //   fetch(`/api/nearby-users?lat=${lat}&lng=${lng}`)\r\n  //     .then((res) => res.json())\r\n  //     .then((data) => setNearbyUsers(data));\r\n  // };\r\n\r\n  // Handle pin drop\r\n  const handleMapClick = (e) => {\r\n    const newLocation = {\r\n      lat: e.latLng.lat(),\r\n      lng: e.latLng.lng()\r\n    };\r\n    setSelectedLocation(newLocation);\r\n    fetchNearbyUsers(newLocation.lat, newLocation.lng);\r\n  };\r\n\r\n  return (\r\n    <LoadScript googleMapsApiKey={process.env.googlemapsapikey}>\r\n      <GoogleMap\r\n        mapContainerStyle={containerStyle}\r\n        center={selectedLocation || currentPos || { lat: 0, lng: 0 }}\r\n        zoom={14}\r\n        onClick={handleMapClick}\r\n      >\r\n        {/* Dropped pin or user location */}\r\n        {selectedLocation && (\r\n          <Marker position={selectedLocation} label=\"Selected\" />\r\n        )}\r\n\r\n        {/* Nearby users */}\r\n        {nearbyUsers.map((user, idx) => (\r\n          <Marker\r\n            key={idx}\r\n            position={{\r\n              lat: user.location.coordinates[1],\r\n              lng: user.location.coordinates[0]\r\n            }}\r\n            label={user.name}\r\n          />\r\n        ))}\r\n      </GoogleMap>\r\n    </LoadScript>\r\n  );\r\n};\r\n\r\nexport default MyMap;\r\n","import React from 'react';\r\nimport './popupwindow.css';\r\nimport MyMap from \"../../pages/MyMap/MyMap\";\r\n\r\nfunction Popupwindow({ onClose }) {\r\n  return (\r\n    <div className=\"modal-overlay\">\r\n      <div className=\"modal-content\">\r\n        <button className=\"close-button\" onClick={onClose}>X</button>\r\n        <h2>Popup Content</h2>\r\n        <p>This is a 70% screen modal popup.</p>\r\n        <MyMap />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Popupwindow;\r\n","import \"./topbar.css\";\nimport { Search, Person, Chat, Notifications,Place } from \"@material-ui/icons\";\nimport { Link } from \"react-router-dom\";\n//import MyLocationIcon from '@mui/icons-material/MyLocation';\nimport { useContext,useState } from \"react\";\nimport { AuthContext } from \"../../context/AuthContext\";\n// import { FaSignOutAlt,faPowerOff } from \"react-icons/fa\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faPowerOff } from \"@fortawesome/free-solid-svg-icons\";\n//import { useHistory } from \"react-router\";\n//import PlaceIcon from \"@mui/icons-material/Place\";\nimport Popupwindow from \"../popupwindow/Popupwindow\";\n\nexport default function Topbar() {\n  const { user } = useContext(AuthContext);\n  const PF = process.env.REACT_APP_PUBLIC_FOLDER;\n  const [showModal, setShowModal] = useState(false);\n  //const history = useHistory();\n  const handleLogout = () => {\n    localStorage.removeItem(\"user\"); // Remove specific item\n    localStorage.removeItem(\"token\");\n    // localStorage.clear(); // Use this to remove all items\n    // navigate(\"/login\"); // Redirect to login page\n    console.log(\"user\",user._id);\n    // history.push(\"/login\");\n    window.location.reload();\n  };\n  return (\n    <div className=\"topbarContainer\">\n      <div className=\"topbarLeft\">\n        <Link to=\"/\" style={{ textDecoration: \"none\" }}>\n          <span className=\"logo\">Anything</span>\n        </Link>\n      </div>\n      <div className=\"topbarCenter\">\n        <div className=\"searchbar\">\n          <Search className=\"searchIcon\" />\n          <input\n            placeholder=\"Search for friend, post or video\"\n            className=\"searchInput\"\n          />\n        </div>\n      </div>\n      {/* <Link to=\"/MyMap\" ><Place style={{color: \" #fcfaf9 \",}}/></Link> */}\n      <div>\n        <span onClick={() => setShowModal(true)}><Place style={{color: \" #fcfaf9 \",}}/></span>\n        {showModal && <Popupwindow onClose={() => setShowModal(false)} />}\n      </div>\n      <div className=\"topbarRight\">\n        <div className=\"topbarLinks\">\n          <span className=\"topbarLink\">\n          </span>\n          <Link to=\"/\" ><span className=\"topbarLink\">Homepage</span></Link>\n          \n        </div>\n        <div className=\"topbarIcons\">\n          {/* <div className=\"topbarIconItem\">\n            <Person />\n            <span className=\"topbarIconBadge\">1</span>\n          </div> */}\n          <Link to=\"/messenger\" >\n          <div className=\"topbarIconItem\">\n            <Chat style={{color: \" #fcfaf9 \",}}/>\n            {/* <span className=\"topbarIconBadge\">2</span> */}\n          </div>\n          </Link>\n          <div className=\"topbarIconItem\">\n            <Notifications />\n            <span className=\"topbarIconBadge\">1</span>\n          </div>\n        </div>\n        <Link to={`/profile/${user.username}`}>\n          <img\n            src={\n              user.profilePicture\n                ? PF + user.profilePicture\n                : PF + \"person/noAvatar.png\"\n            }\n            alt=\"\"\n            className=\"topbarImg\"\n          />\n        </Link>\n        <div className=\"topbarIconItem\">\n        <button onClick={handleLogout} \n          style={{\n          backgroundColor: \"#1877f2\",\n          border: \"none\",\n          borderRadius: \"5px\",\n          padding: \"10px\",\n          cursor: \"pointer\"\n        }}>\n          {/* <faPowerOff />  */}\n          {/* <i class=\"fa-solid fa-power-off\"></i> */}\n          <FontAwesomeIcon icon={faPowerOff} \n            style={{ fontSize:\"20px\",color: \"white\", \n              backgroundColor: \"#1877f2\", border: \"none\",\n              padding:0,margin:0\n            }}\n          />\n        </button>\n        </div>\n        \n      </div>\n    </div>\n  );\n}\n","import \"./sidebar.css\";\nimport {\n  RssFeed,\n  Chat,\n} from \"@material-ui/icons\";\nimport { Users } from \"../../dummyData\";\nimport CloseFriend from \"../closeFriend/CloseFriend\";\n\nexport default function Sidebar() {\n  return (\n    <div className=\"sidebar\">\n      <div className=\"sidebarWrapper\">\n        <ul className=\"sidebarList\">\n          <li className=\"sidebarListItem\">\n            <RssFeed className=\"sidebarIcon\" />\n            <span className=\"sidebarListItemText\">Feed</span>\n          </li>\n          <li className=\"sidebarListItem\">\n            <Chat className=\"sidebarIcon\" />\n            <span className=\"sidebarListItemText\">Chats</span>\n          </li>\n          \n        </ul>\n        <button className=\"sidebarButton\">Show More</button>\n        <hr className=\"sidebarHr\" />\n        {/* <ul className=\"sidebarFriendList\">\n          {Users.map((u) => (\n            <CloseFriend key={u.id} user={u} />\n          ))}\n        </ul> */}\n      </div>\n    </div>\n  );\n}\n","import \"./post.css\";\nimport { MoreVert } from \"@material-ui/icons\";\nimport { useContext, useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport { format } from \"timeago.js\";\nimport { Link } from \"react-router-dom\";\nimport { AuthContext } from \"../../context/AuthContext\";\nimport { useHistory } from 'react-router-dom';\nimport { storeContext } from \"../../context/AuthContext\";\nimport config  from '../../connection';\n\nexport default function Post({ post }) {\n  const [like, setLike] = useState(post.likes.length);\n  const [isLiked, setIsLiked] = useState(false);\n  const [user, setUser] = useState({});\n  const PF = process.env.REACT_APP_PUBLIC_FOLDER;\n  const { user: currentUser } = useContext(AuthContext);\n  const history = useHistory();\nlet {setPassobject} = useContext(storeContext);\n  const {BASE_URL}=config \n\n  useEffect(() => {\n    setIsLiked(post.likes.includes(currentUser._id));\n  }, [currentUser._id, post.likes]);\n\n  useEffect(() => {\n    const fetchUser = async () => {\n      const res = await axios.get(`${BASE_URL}/users?userId=${post.userId}`);\n      setUser(res.data);\n    };\n    fetchUser();\n  }, [post.userId]);\n\n  const messageClick = async (postuser) => {\n      try {console.log(\"postuser..\",postuser);\n        const res = await axios.get(\n          `${BASE_URL}/conversations/find/${currentUser._id}/${postuser}`\n        );\n        console.log(\"con..\",res.data);\n        if(res.data===null){\n          const senderId=currentUser._id\n          const receiverId=postuser\n            const newconv = await axios.post(`${BASE_URL}/conversations`,{senderId,receiverId});\n            console.log(\"newconv\",newconv);\n            setPassobject(newconv.data)\n        }\n        else{setPassobject(res.data)}\n        \n        history.push(`/messenger`);\n      } catch (err) {\n        console.log(err);\n      }\n    };\n\n  const likeHandler = () => {\n    try {\n      axios.put(`${BASE_URL}/posts/` + post._id + \"/like\", { userId: currentUser._id });\n    } catch (err) {}\n    setLike(isLiked ? like - 1 : like + 1);\n    setIsLiked(!isLiked);\n  };\n  return (\n    <div className=\"post\">\n      <div className=\"postWrapper\">\n        <div className=\"postTop\">\n          <div className=\"postTopLeft\">\n            <Link to={`/profile/${user.username}`}>\n              <img\n                className=\"postProfileImg\"\n                src={\n                  user.profilePicture\n                    ? PF + user.profilePicture\n                    : PF + \"person/noAvatar.png\"\n                }\n                alt=\"\"\n              />\n            </Link>\n            <span className=\"postUsername\">{user.username}</span>\n            <span className=\"postDate\">{format(post.createdAt)}</span>\n          </div>\n          <div className=\"postTopRight\">\n            <MoreVert />\n          </div>\n        </div>\n        <div className=\"postCenter\">\n          <span className=\"postText\">{post?.desc}</span>\n          <img className=\"postImg\" src={post.img.startsWith(\"https://\") ? post.img : PF + post.img} alt=\"\" />\n        </div>\n        <div className=\"postBottom\">\n          <div className=\"postBottomLeft\">\n            <img\n              className=\"likeIcon\"\n              src={`${PF}like.png`}\n              onClick={likeHandler}\n              alt=\"\"\n            />\n            <img\n              className=\"likeIcon\"\n              src={`${PF}heart.png`}\n              onClick={likeHandler}\n              alt=\"\"\n            />\n            <span className=\"postLikeCounter\">{like} people like it</span>\n          </div>\n          <div className=\"postBottomRight\">\n            <span className=\"postCommentText\" onClick={() => messageClick(post.userId)}>{post.comment} Message</span>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import \"./share.css\";\nimport {\n  PermMedia,\n  Label,\n  Room,\n  EmojiEmotions,\n  Cancel,\n} from \"@material-ui/icons\";\nimport { useContext, useRef, useState } from \"react\";\nimport { AuthContext } from \"../../context/AuthContext\";\nimport axios from \"axios\";\nimport config  from '../../connection';\n\nexport default function Share() {\n  const { user } = useContext(AuthContext);\n  const PF = process.env.REACT_APP_PUBLIC_FOLDER;\n  const desc = useRef();\n  const [file, setFile] = useState(null);\n  const {BASE_URL}=config \n\n  const submitHandler = async (e) => {\n    e.preventDefault();\n    const newPost = {\n      userId: user._id,\n      desc: desc.current.value,\n    };console.log(\"file\",file)\n    if (file) {\n      const data = new FormData();\n      const fileName = Date.now() + file.name;\n      data.append(\"name\", fileName);\n      data.append(\"file\", file);\n      //newPost.img = fileName;\n      console.log(\"newpost\",newPost);console.log(\"data\",data);\n      try {\n        const res=await axios.post(`${BASE_URL}/upload`, data);console.log(\"res1\",res.data);\n        newPost.img = await res.data.url;\n      } catch (err) {console.log(\"err...\",err)}\n    }\n    try {\n      await axios.post(`${BASE_URL}/posts`, newPost);\n      window.location.reload();\n    } catch (err) {}\n  };\n\n  return (\n    <div className=\"share\">\n      <div className=\"shareWrapper\">\n        <div className=\"shareTop\">\n          <img\n            className=\"shareProfileImg\"\n            src={\n              user.profilePicture\n                ? PF + user.profilePicture\n                : PF + \"person/noAvatar.png\"\n            }\n            alt=\"\"\n          />\n          <input\n            placeholder={\"What's in your mind \" + user.username + \"?\"}\n            className=\"shareInput\"\n            ref={desc}\n          />\n        </div>\n        <hr className=\"shareHr\" />\n        {file && (\n          <div className=\"shareImgContainer\">\n            <img className=\"shareImg\" src={URL.createObjectURL(file)} alt=\"\" />\n            <Cancel className=\"shareCancelImg\" onClick={() => setFile(null)} />\n          </div>\n        )}\n        <form className=\"shareBottom\" onSubmit={submitHandler}>\n          <div className=\"shareOptions\">\n            <label htmlFor=\"file\" className=\"shareOption\">\n              <PermMedia htmlColor=\"tomato\" className=\"shareIcon\" />\n              <span className=\"shareOptionText\">Photo or Video</span>\n              <input\n                style={{ display: \"none\" }}\n                type=\"file\"\n                id=\"file\"\n                accept=\".png,.jpeg,.jpg\"\n                onChange={(e) => setFile(e.target.files[0])}\n              />\n            </label>\n            <div className=\"shareOption\">\n              <Label htmlColor=\"blue\" className=\"shareIcon\" />\n              <span className=\"shareOptionText\">Tag</span>\n            </div>\n            <div className=\"shareOption\">\n              <Room htmlColor=\"green\" className=\"shareIcon\" />\n              <span className=\"shareOptionText\">Location</span>\n            </div>\n            <div className=\"shareOption\">\n              <EmojiEmotions htmlColor=\"goldenrod\" className=\"shareIcon\" />\n              <span className=\"shareOptionText\">Feelings</span>\n            </div>\n          </div>\n          <button className=\"shareButton\" type=\"submit\">\n            Share\n          </button>\n        </form>\n      </div>\n    </div>\n  );\n}\n","import { useContext, useEffect, useState } from \"react\";\nimport Post from \"../post/Post\";\nimport Share from \"../share/Share\";\nimport \"./feed.css\";\nimport axios from \"axios\";\nimport { AuthContext } from \"../../context/AuthContext\";\nimport config  from '../../connection';\n\nexport default function Feed({ username }) {\n  const [posts, setPosts] = useState([]);\n  const { user } = useContext(AuthContext);\n  const {BASE_URL}= config \n\n  //const [currentPos, setCurrentPos] = useState(null); // User's current location\n  //const [selectedLocation, setSelectedLocation] = useState(null); // Dropped pin\n  const [nearbyUsers, setNearbyUsers] = useState([]);\n\n  // Get user's current location on load\n  useEffect(() => {\n    navigator.geolocation.getCurrentPosition((position) => {\n      const pos = {\n        lat: position.coords.latitude,\n        lng: position.coords.longitude\n      };\n      //setCurrentPos(pos);\n      //setSelectedLocation(pos); // Default to current location\n      fetchNearbyUsers(pos.lat, pos.lng);\n      updateuserlocation(pos.lat, pos.lng);console.log(\"BASE_URL\",BASE_URL)\n      \n    });\n  }, []);\n\n   const updateuserlocation = async (latti,longi)=>{\n    try{const userid=user._id\n      const newconv = await axios.post(`${BASE_URL}/maps/updatelocation`,{userid,latti,longi});\n      console.log(\"newconv\",newconv)\n    }catch(err) {\n        console.log(err);\n    }\n   }\n\n  \n    const fetchNearbyUsers = async (lat, lng) => {\n      try {\n        const res = await axios.get(`${BASE_URL}/maps/nearby-users?lat=${lat}&lng=${lng}`);\n        console.log(\"nearby-users\",res.data);\n        setNearbyUsers(res.data);\n        \n      } catch (err) {\n        console.log(err);\n      }\n    };\n\n\n  useEffect(() => {\n    const fetchPosts = async () => {console.log(\"username\",username);console.log(\"nearbyUserspost\",nearbyUsers);\n      const res = username\n        ? await axios.get(`${BASE_URL}/posts/profile/` + username)\n        : await axios.post(`${BASE_URL}/posts/timeline/` + user._id,nearbyUsers);\n      setPosts(\n        res.data.sort((p1, p2) => {\n          return new Date(p2.createdAt) - new Date(p1.createdAt);\n        })\n      );\n    };\n    fetchPosts();\n  }, [username, user._id,nearbyUsers]);\n\n  return (\n    <div className=\"feed\">\n      <div className=\"feedWrapper\">\n        {(!username || username === user.username) && <Share />}\n        {posts.map((p) => (\n          <Post key={p._id} post={p} />\n        ))}\n      </div>\n    </div>\n  );\n}\n","import \"./rightbar.css\";\nimport { Users } from \"../../dummyData\";\nimport Online from \"../online/Online\";\nimport { useContext, useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport { Link } from \"react-router-dom\";\nimport { AuthContext } from \"../../context/AuthContext\";\nimport { Add, Remove } from \"@material-ui/icons\";\nimport config from '../../connection';\n\nexport default function Rightbar({ user }) {\n  const PF = process.env.REACT_APP_PUBLIC_FOLDER;\n  const [friends, setFriends] = useState([]);\n  const { user: currentUser, dispatch } = useContext(AuthContext);\n  const [followed, setFollowed] = useState(\n    currentUser.followings.includes(user?.id)\n  );\n  const {BASE_URL}=config \n\n  useEffect(() => {\n    const getFriends = async () => {\n      try {\n        const friendList = await axios.get(`${BASE_URL}/users/friends/` + user._id);\n        setFriends(friendList.data);\n      } catch (err) {\n        console.log(err);\n      }\n    };\n    getFriends();\n  }, [user]);\n\n  const handleClick = async () => {\n    try {\n      if (followed) {\n        await axios.put(`${BASE_URL}/users/${user._id}/unfollow`, {\n          userId: currentUser._id,\n        });\n        dispatch({ type: \"UNFOLLOW\", payload: user._id });\n      } else {\n        await axios.put(`${BASE_URL}/users/${user._id}/follow`, {\n          userId: currentUser._id,\n        });\n        dispatch({ type: \"FOLLOW\", payload: user._id });\n      }\n      setFollowed(!followed);\n    } catch (err) {\n    }\n  };\n\n  const HomeRightbar = () => {\n    return (\n      <>\n        <div className=\"birthdayContainer\">\n          <img className=\"birthdayImg\" src=\"assets/gift.png\" alt=\"\" />\n          <span className=\"birthdayText\">\n            <b>Pola Foster</b> and <b>3 other friends</b> have a birhday today.\n          </span>\n        </div>\n        <img className=\"rightbarAd\" src=\"assets/ad.png\" alt=\"\" />\n        <h4 className=\"rightbarTitle\">Online Friends</h4>\n        <ul className=\"rightbarFriendList\">\n          {Users.map((u) => (\n            <Online key={u.id} user={u} />\n          ))}\n        </ul>\n      </>\n    );\n  };\n\n  const ProfileRightbar = () => {\n    return (\n      <>\n        {user.username !== currentUser.username && (\n          <button className=\"rightbarFollowButton\" onClick={handleClick}>\n            {followed ? \"Unfollow\" : \"Follow\"}\n            {followed ? <Remove /> : <Add />}\n          </button>\n        )}\n        <h4 className=\"rightbarTitle\">User information</h4>\n        <div className=\"rightbarInfo\">\n          <div className=\"rightbarInfoItem\">\n            <span className=\"rightbarInfoKey\">City:</span>\n            <span className=\"rightbarInfoValue\">{user.city}</span>\n          </div>\n          <div className=\"rightbarInfoItem\">\n            <span className=\"rightbarInfoKey\">From:</span>\n            <span className=\"rightbarInfoValue\">{user.from}</span>\n          </div>\n          <div className=\"rightbarInfoItem\">\n            <span className=\"rightbarInfoKey\">Relationship:</span>\n            <span className=\"rightbarInfoValue\">\n              {user.relationship === 1\n                ? \"Single\"\n                : user.relationship === 1\n                ? \"Married\"\n                : \"-\"}\n            </span>\n          </div>\n        </div>\n        <h4 className=\"rightbarTitle\">User friends</h4>\n        <div className=\"rightbarFollowings\">\n          {friends.map((friend) => (\n            <Link\n              to={\"/profile/\" + friend.username}\n              style={{ textDecoration: \"none\" }}\n            >\n              <div className=\"rightbarFollowing\">\n                <img\n                  src={\n                    friend.profilePicture\n                      ? PF + friend.profilePicture\n                      : PF + \"person/noAvatar.png\"\n                  }\n                  alt=\"\"\n                  className=\"rightbarFollowingImg\"\n                />\n                <span className=\"rightbarFollowingName\">{friend.username}</span>\n              </div>\n            </Link>\n          ))}\n        </div>\n      </>\n    );\n  };\n  return (\n    <div className=\"rightbar\">\n      <div className=\"rightbarWrapper\">\n        {/* {user ? <ProfileRightbar /> : <HomeRightbar />} */}\n      </div>\n    </div>\n  );\n}\n","import Topbar from \"../../components/topbar/Topbar\";\nimport Sidebar from \"../../components/sidebar/Sidebar\";\nimport Feed from \"../../components/feed/Feed\";\nimport Rightbar from \"../../components/rightbar/Rightbar\";\nimport \"./home.css\"\n\nexport default function Home() {\n  return (\n    <>\n      <Topbar />\n      <div className=\"homeContainer\">\n        <Sidebar />\n        <Feed/>\n        <Rightbar/>\n      </div>\n    </>\n  );\n}\n","import axios from \"axios\";\nimport config  from './connection';\nconst {BASE_URL}=config \n\nexport const loginCall = async (userCredential, dispatch) => {\n  dispatch({ type: \"LOGIN_START\" });\n  try {\n    const res = await axios.post(`${BASE_URL}/auth/login`, userCredential);console.log(\"ressss\",res.data)\n    dispatch({ type: \"LOGIN_SUCCESS\", payload: res.data });\n  } catch (err) {\n    dispatch({ type: \"LOGIN_FAILURE\", payload: err });\n  }\n};\n\n","import { useContext, useRef,useState } from \"react\";\nimport \"./login.css\";\nimport { loginCall } from \"../../apiCalls\";\nimport { AuthContext } from \"../../context/AuthContext\";\nimport { CircularProgress } from \"@material-ui/core\";\nimport { useHistory } from \"react-router\";\nimport config  from '../../connection';\n\nexport default function Login() {\n  const email = useRef();\n  const password = useRef();\n  const { isFetching, dispatch } = useContext(AuthContext);\n  const history = useHistory();\n  const { BASE_URL } = config;\n\n  const handleClick = async(e) => {\n    e.preventDefault();\n    try{await loginCall(\n                { email: email.current.value, password: password.current.value },\n                dispatch\n              );\n    }catch (err) {\n      console.log(err);\n    }\n  };\n\n  const registerpage = () => {\n    history.push(\"/register\");\n  };\n\n  \n    const [otpemail, setotpEmail] = useState('');\n    const sendOtp = async () => {\n      await fetch(`${BASE_URL}/emailotp/send-otp`, {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ otpemail }),\n      });\n      alert('OTP sent');\n    };\n\n   // const [email, setEmail] = useState('');\n  const [otp, setOtp] = useState('');\n  const verifyOtp = async () => {\n    const res = await fetch(`${BASE_URL}/emailotp/verify-otp`, {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify({ otpemail, otp }),\n    });\n    const data = await res.json();\n    alert(data.message);\n  };\n  \n\n  return (\n    <div className=\"login\">\n      <div className=\"loginWrapper\">\n        <div className=\"loginLeft\">\n          <h3 className=\"loginLogo\">Anything</h3>\n          <span className=\"loginDesc\">\n            Connect and Share anything with friends and the world around you on Anything App.\n          </span>\n        </div>\n        <div className=\"loginRight\">\n          <form className=\"loginBox\" onSubmit={handleClick}>\n            <input\n              placeholder=\"Email\"\n              type=\"email\"\n              required\n              className=\"loginInput\"\n              ref={email}\n            />\n            <input\n              placeholder=\"Password\"\n              type=\"password\"\n              required\n              minLength=\"6\"\n              className=\"loginInput\"\n              ref={password}\n            />\n            <button className=\"loginButton\" type=\"submit\" disabled={isFetching}>\n              {isFetching ? (\n                <CircularProgress color=\"white\" size=\"20px\" />\n              ) : (\n                \"Log In\"\n              )}\n            </button>\n            <span className=\"loginForgot\">Forgot Password?</span>\n            \n          </form>\n            <div>\n              <input type=\"email\" value={otpemail} onChange={e => setotpEmail(e.target.value)} />\n              <button onClick={sendOtp}>Send OTP</button>\n            </div>\n            <div>\n              <input type=\"email\" value={otpemail} onChange={e => setotpEmail(e.target.value)} />\n              <input type=\"text\" value={otp} onChange={e => setOtp(e.target.value)} />\n              <button onClick={verifyOtp}>Verify OTP</button>\n            </div>\n          <button className=\"loginRegisterButton\" onClick={registerpage}>\n              {isFetching ? (\n                <CircularProgress color=\"white\" size=\"20px\" />\n              ) : (\n                \"Create a New Account\"\n              )}\n            </button>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import \"./profile.css\";\nimport Topbar from \"../../components/topbar/Topbar\";\nimport Sidebar from \"../../components/sidebar/Sidebar\";\nimport Feed from \"../../components/feed/Feed\";\nimport Rightbar from \"../../components/rightbar/Rightbar\";\nimport { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport { useParams } from \"react-router\";\nimport config  from '../../connection';\n\nexport default function Profile({ token }) {\n  const PF = process.env.REACT_APP_PUBLIC_FOLDER;\n  const [user, setUser] = useState({});\n  const username = useParams().username;\n  const {BASE_URL}=config \n\n  useEffect(() => {\n    const fetchUser = async () => {\n      const res = await axios.get(`${BASE_URL}/users?username=${username}`,{headers: { Authorization: `Bearer ${token}` }});\n      setUser(res.data);\n    };\n    fetchUser();\n  }, [username,token]);\n\n  return (\n    <>\n      <Topbar />\n      <div className=\"profile\">\n        <Sidebar />\n        <div className=\"profileRight\">\n          <div className=\"profileRightTop\">\n            <div className=\"profileCover\">\n              <img\n                className=\"profileCoverImg\"\n                src={\n                  user.coverPicture\n                    ? PF + user.coverPicture\n                    : PF + \"person/noCover.png\"\n                }\n                alt=\"\"\n              />\n              <img\n                className=\"profileUserImg\"\n                src={\n                  user.profilePicture\n                    ? PF + user.profilePicture\n                    : PF + \"person/noAvatar.png\"\n                }\n                alt=\"\"\n              />\n            </div>\n            <div className=\"profileInfo\">\n              <h4 className=\"profileInfoName\">{user.username}</h4>\n              <span className=\"profileInfoDesc\">{user.desc}</span>\n            </div>\n          </div>\n          <div className=\"profileRightBottom\">\n            <Feed username={username} />\n            <Rightbar user={user} />\n          </div>\n        </div>\n      </div>\n    </>\n  );\n}\n","import axios from \"axios\";\nimport { useRef } from \"react\";\nimport \"./register.css\";\nimport { useHistory } from \"react-router\";\nimport config  from '../../connection';\n\nexport default function Register() {\n  const username = useRef();\n  const email = useRef();\n  const password = useRef();\n  const passwordAgain = useRef();\n  const history = useHistory();\n  const {BASE_URL}=config \n\n  const handleClick = async (e) => {\n    e.preventDefault();\n    if (passwordAgain.current.value !== password.current.value) {\n      passwordAgain.current.setCustomValidity(\"Passwords don't match!\");\n    } else {\n      const user = {\n        username: username.current.value,\n        email: email.current.value,\n        password: password.current.value,\n      };\n      try {console.log(\"inside\");\n        await axios.post(`${BASE_URL}/auth/register`, user);\n        history.push(\"/login\");\n      } catch (err) {\n        console.log(err);\n      }\n    }\n  };\n\n  const loginpage = () => {\n    console.log('Button clicked!');\n    history.push(\"/login\");\n  };\n\n  return (\n    <div className=\"login\">\n      <div className=\"loginWrapper\">\n        <div className=\"loginLeft\">\n          <h3 className=\"loginLogo\">Anything</h3>\n          <span className=\"loginDesc\">\n            Connect and Share anything with friends and the world around you on Anything App.\n          </span>\n        </div>\n        <div className=\"loginRight\">\n          <form className=\"loginBox\" onSubmit={handleClick}>\n            <input\n              placeholder=\"Username\"\n              required\n              ref={username}\n              className=\"loginInput\"\n            />\n            <input\n              placeholder=\"Email\"\n              required\n              ref={email}\n              className=\"loginInput\"\n              type=\"email\"\n            />\n            <input\n              placeholder=\"Password\"\n              required\n              ref={password}\n              className=\"loginInput\"\n              type=\"password\"\n              minLength=\"6\"\n            />\n            <input\n              placeholder=\"Password Again\"\n              required\n              ref={passwordAgain}\n              className=\"loginInput\"\n              type=\"password\"\n            />\n            <button className=\"loginButton\" type=\"submit\">\n              Sign Up\n            </button>\n            \n          </form>\n          <button className=\"loginRegisterButton\" onClick={loginpage}>Log into Account</button>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import axios from \"axios\";\nimport { useEffect, useState } from \"react\";\nimport \"./conversation.css\";\nimport config  from '../../connection';\n\nexport default function Conversation({ conversation, currentUser }) {\n  const [user, setUser] = useState(null);\n  const PF = process.env.REACT_APP_PUBLIC_FOLDER;\n  const {BASE_URL}=config \n\n  useEffect(() => {\n    const friendId = conversation.members.find((m) => m !== currentUser._id);\n\n    const getUser = async () => {\n      try {\n        const res = await axios(`${BASE_URL}/users?userId=` + friendId);\n        setUser(res.data);\n      } catch (err) {\n        console.log(err);\n      }\n    };\n    getUser();\n  }, [currentUser, conversation]);\n\n  return (\n    <div className=\"conversation\">\n      <img\n        className=\"conversationImg\"\n        src={\n          user?.profilePicture\n            ? PF + user.profilePicture\n            : PF + \"person/noAvatar.png\"\n        }\n        alt=\"\"\n      />\n      <span className=\"conversationName\">{user?.username}</span>\n    </div>\n  );\n}\n","import \"./message.css\";\nimport { format } from \"timeago.js\";\n\nexport default function Message({ message, own }) {\n  return (\n    <div className={own ? \"message own\" : \"message\"}>\n      <div className=\"messageTop\">\n        <img\n          className=\"messageImg\"\n          src=\"https://images.pexels.com/photos/3686769/pexels-photo-3686769.jpeg?auto=compress&cs=tinysrgb&dpr=2&w=500\"\n          alt=\"\"\n        />\n        <p className=\"messageText\">{message.text}</p>\n      </div>\n      <div className=\"messageBottom\">{format(message.createdAt)}</div>\n    </div>\n  );\n}\n","import axios from \"axios\";\nimport { useEffect, useState } from \"react\";\nimport \"./chatOnline.css\";\nimport config  from '../../connection';\n\nexport default function ChatOnline({ onlineUsers, currentId, setCurrentChat }) {\n  const [friends, setFriends] = useState([]);\n  const [onlineFriends, setOnlineFriends] = useState([]);\n  const PF = process.env.REACT_APP_PUBLIC_FOLDER;\nconst {BASE_URL}=config \n  useEffect(() => {\n    const getFriends = async () => {\n      const res = await axios.get(`${BASE_URL}/users/friends/` + currentId);\n      setFriends(res.data);\n    };\n\n    getFriends();\n  }, [currentId]);\n\n  useEffect(() => {\n    setOnlineFriends(friends.filter((f) => onlineUsers.includes(f._id)));\n  }, [friends, onlineUsers]);\n\n  const handleClick = async (user) => {\n    try {\n      const res = await axios.get(\n        `${BASE_URL}/conversations/find/${currentId}/${user._id}`\n      );\n      setCurrentChat(res.data);\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  return (\n    <div className=\"chatOnline\">\n      {onlineFriends.map((o) => (\n        <div className=\"chatOnlineFriend\" onClick={() => handleClick(o)}>\n          <div className=\"chatOnlineImgContainer\">\n            <img\n              className=\"chatOnlineImg\"\n              src={\n                o?.profilePicture\n                  ? PF + o.profilePicture\n                  : PF + \"person/noAvatar.png\"\n              }\n              alt=\"\"\n            />\n            <div className=\"chatOnlineBadge\"></div>\n          </div>\n          <span className=\"chatOnlineName\">{o?.username}</span>\n        </div>\n      ))}\n    </div>\n  );\n}\n","import \"./messenger.css\";\nimport Topbar from \"../../components/topbar/Topbar\";\nimport Conversation from \"../../components/conversations/Conversation\";\nimport Message from \"../../components/message/Message\";\nimport ChatOnline from \"../../components/chatOnline/ChatOnline\";\nimport { useContext, useEffect, useRef, useState } from \"react\";\nimport { AuthContext } from \"../../context/AuthContext\";\nimport { storeContext } from \"../../context/AuthContext\";\nimport axios from \"axios\";\nimport { io } from \"socket.io-client\";\nimport config  from '../../connection';\n//import { useParams } from 'react-router-dom';\n\nexport default function Messenger() {\n  const [conversations, setConversations] = useState([]);\n  const [currentChat, setCurrentChat] = useState(null);\n  const [messages, setMessages] = useState([]);\n  const [newMessage, setNewMessage] = useState(\"\");\n  const [arrivalMessage, setArrivalMessage] = useState(null);\n  const [onlineUsers, setOnlineUsers] = useState([]);\n  const socket = useRef();\n  const { user } = useContext(AuthContext);\n  const scrollRef = useRef();\n  //const { convid } = useParams();\n  const  {passobject}  = useContext(storeContext);\n  //const redirectedconv = match.params.convid;\n  const {BASE_URL,SOCKET_URL}=config \n  \n  useEffect(() => {\n    socket.current = io(`ws://${SOCKET_URL}:8900`);\n    socket.current.on(\"getMessage\", (data) => {\n      setArrivalMessage({\n        sender: data.senderId,\n        text: data.text,\n        createdAt: Date.now(),\n      });\n    });\n  }, []);\n\n  useEffect(() => {\n    arrivalMessage &&\n      currentChat?.members.includes(arrivalMessage.sender) &&\n      setMessages((prev) => [...prev, arrivalMessage]);\n  }, [arrivalMessage, currentChat]);\n\n  useEffect(() => {\n    socket.current.emit(\"addUser\", user._id);\n    socket.current.on(\"getUsers\", (users) => {\n      setOnlineUsers(\n        user.followings.filter((f) => users.some((u) => u.userId === f))\n      );\n    });\n  }, [user]);\n\n  useEffect(() => {\n    const getConversations = async () => {\n      try {\n        const res = await axios.get(`${BASE_URL}/conversations/` + user._id);console.log(\"convs\",res.data);\n        setConversations(res.data);\n      } catch (err) {\n        console.log(err);\n      }\n    };\n    getConversations();\n  }, [user._id]);\n\n  useEffect(() => {\n    const getMessages = async () => {\n      try {\n        const res = await axios.get(`${BASE_URL}/messages/` + currentChat?._id);\n        setMessages(res.data);\n      } catch (err) {\n        console.log(err);\n      }\n    };\n    getMessages();\n  }, [currentChat]);\n\n  useEffect(() => {\n    const getMessages = async () => {\n      try {console.log(\"passobject\",passobject);\n        const res = await axios.get(`${BASE_URL}/messages/` + passobject._id);\n        setMessages(res.data);\n      } catch (err) {\n        console.log(err);\n      }\n    };\n    getMessages();\n    setCurrentChat(passobject)\n  },[passobject]);\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    const message = {\n      sender: user._id,\n      text: newMessage,\n      conversationId: currentChat._id,\n    };\n\n    const receiverId = currentChat.members.find(\n      (member) => member !== user._id\n    );\n\n    socket.current.emit(\"sendMessage\", {\n      senderId: user._id,\n      receiverId,\n      text: newMessage,\n    });\n\n    try {\n      const res = await axios.post(`${BASE_URL}/messages`, message);\n      setMessages([...messages, res.data]);\n      setNewMessage(\"\");\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  useEffect(() => {\n    scrollRef.current?.scrollIntoView({ behavior: \"smooth\" });\n  }, [messages]);\n\n  return (\n    <>\n      <Topbar />\n      <div className=\"messenger\">\n        <div className=\"chatMenu\">\n          <div className=\"chatMenuWrapper\">\n            <input placeholder=\"Search for friends\" className=\"chatMenuInput\" />\n            {conversations.map((c) => (\n              <div onClick={() => {setCurrentChat(c);console.log(\"currchat\",c)}}>\n                <Conversation conversation={c} currentUser={user} />\n              </div>\n            ))}\n          </div>\n        </div>\n        <div className=\"chatBox\">\n          <div className=\"chatBoxWrapper\">\n            {currentChat ? (\n              <>\n                <div className=\"chatBoxTop\">\n                  {messages.map((m) => (\n                    <div ref={scrollRef}>\n                      <Message message={m} own={m.sender === user._id} />\n                    </div>\n                  ))}\n                </div>\n                <div className=\"chatBoxBottom\">\n                  <textarea\n                    className=\"chatMessageInput\"\n                    placeholder=\"write something...\"\n                    onChange={(e) => setNewMessage(e.target.value)}\n                    value={newMessage}\n                  ></textarea>\n                  <button className=\"chatSubmitButton\" onClick={handleSubmit}>\n                    Send\n                  </button>\n                </div>\n              </>\n            ) : (\n              <span className=\"noConversationText\">\n                Open a conversation to start a chat.\n              </span>\n            )}\n          </div>\n        </div>\n        <div className=\"chatOnline\">\n          <div className=\"chatOnlineWrapper\">\n            <ChatOnline\n              onlineUsers={onlineUsers}\n              currentId={user._id}\n              setCurrentChat={setCurrentChat}\n            />\n          </div>\n        </div>\n      </div>\n    </>\n  );\n}\n","import Home from \"./pages/home/Home\";\nimport Login from \"./pages/login/Login\";\nimport Profile from \"./pages/profile/Profile\";\nimport Register from \"./pages/register/Register\";\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n  Redirect ,\n} from \"react-router-dom\";\nimport { useContext } from \"react\";\nimport { AuthContext } from \"./context/AuthContext\";\nimport Messenger from \"./pages/messenger/Messenger\";\nimport MyMap from \"./pages/MyMap/MyMap\";\n\nfunction App() {\n  const { user,token } = useContext(AuthContext);\n  return (\n    <Router>\n      <Switch>\n        <Route exact path=\"/\">\n          {user ? <Home /> : <Register />}\n        </Route>\n        <Route path=\"/login\">{user ? <Redirect  to=\"/\" /> : <Login />}</Route>\n        <Route path=\"/register\">\n          {user ? <Redirect to=\"/\" /> : <Register />}\n        </Route>\n        <Route path=\"/messenger\">\n          {!user ? <Redirect to=\"/\" /> : <Messenger />}\n        </Route>\n        <Route path=\"/MyMap\">\n          {!user ? <Redirect to=\"/\" /> : <MyMap />}\n        </Route>\n        <Route path=\"/profile/:username\">\n          <Profile token={token}/>\n        </Route>\n      </Switch>\n    </Router>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport { AuthContextProvider } from \"./context/AuthContext\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <AuthContextProvider>\n      <App />\n    </AuthContextProvider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}