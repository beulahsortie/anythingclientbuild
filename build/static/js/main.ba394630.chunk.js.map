{"version":3,"sources":["context/AuthReducer.js","context/AuthContext.js","connection.js","pages/MyMap/MyMap.jsx","components/popupwindow/Popupwindow.jsx","components/topbar/Topbar.jsx","components/sidebar/Sidebar.jsx","components/post/Post.jsx","components/share/Share.jsx","components/feed/Feed.jsx","components/rightbar/Rightbar.jsx","pages/home/Home.jsx","apiCalls.js","pages/login/Login.jsx","pages/profile/Profile.jsx","pages/register/Register.jsx","components/conversations/Conversation.jsx","components/message/Message.jsx","components/chatOnline/ChatOnline.jsx","pages/messenger/Messenger.jsx","App.js","index.js"],"names":["AuthReducer","state","action","type","user","token","isFetching","error","payload","_objectSpread","followings","concat","_toConsumableArray","filter","following","INITIAL_STATE","JSON","parse","localStorage","getItem","AuthContext","createContext","storeContext","AuthContextProvider","_ref","children","_useReducer","useReducer","_useReducer2","_slicedToArray","dispatch","_useState","useState","_useState2","passobject","setPassobject","useEffect","setItem","stringify","_jsx","Provider","value","BASE_URL","process","SOCKET_URL","containerStyle","width","height","MyMap","currentPos","setCurrentPos","_useState3","_useState4","selectedLocation","setSelectedLocation","_useState5","_useState6","nearbyUsers","setNearbyUsers","config","navigator","geolocation","getCurrentPosition","position","pos","lat","coords","latitude","lng","longitude","fetchNearbyUsers","_asyncToGenerator","_regeneratorRuntime","mark","_callee","res","wrap","_context","prev","next","axios","get","sent","console","log","data","t0","stop","_x","_x2","apply","arguments","LoadScript","googleMapsApiKey","_jsxs","GoogleMap","mapContainerStyle","center","zoom","onClick","e","newLocation","latLng","Marker","label","map","idx","location","coordinates","name","Popupwindow","onClose","className","Topbar","useContext","PF","showModal","setShowModal","Link","to","style","textDecoration","Search","placeholder","Place","color","Chat","Notifications","username","src","profilePicture","alt","removeItem","_id","window","reload","backgroundColor","border","borderRadius","padding","cursor","FontAwesomeIcon","icon","faPowerOff","fontSize","margin","Sidebar","RssFeed","Post","post","likes","length","like","setLike","isLiked","setIsLiked","setUser","currentUser","history","useHistory","includes","_ref2","userId","fetchUser","messageClick","_ref3","_callee2","postuser","senderId","receiverId","newconv","_context2","push","likeHandler","put","err","format","createdAt","MoreVert","desc","img","startsWith","comment","Share","useRef","file","setFile","submitHandler","newPost","fileName","preventDefault","current","FormData","Date","now","append","url","t1","ref","URL","createObjectURL","Cancel","onSubmit","htmlFor","PermMedia","htmlColor","display","id","accept","onChange","target","files","Label","Room","EmojiEmotions","Feed","posts","setPosts","updateuserlocation","latti","longi","userid","_x3","_x4","_ref4","_callee3","_context3","sort","p1","p2","fetchPosts","p","Rightbar","setFriends","_useContext","friendList","getFriends","Home","_Fragment","loginCall","userCredential","Login","email","password","handleClick","required","minLength","disabled","CircularProgress","size","Profile","useParams","headers","Authorization","coverPicture","Register","passwordAgain","setCustomValidity","Conversation","conversation","friendId","members","find","m","getUser","Message","message","own","text","ChatOnline","onlineUsers","currentId","setCurrentChat","friends","onlineFriends","setOnlineFriends","f","o","Messenger","conversations","setConversations","currentChat","messages","setMessages","_useState7","_useState8","newMessage","setNewMessage","_useState9","_useState0","arrivalMessage","setArrivalMessage","_useState1","_useState10","setOnlineUsers","socket","scrollRef","io","on","sender","emit","users","some","u","getConversations","getMessages","handleSubmit","_callee4","_context4","conversationId","member","_scrollRef$current","scrollIntoView","behavior","c","App","Router","Switch","Route","exact","path","Redirect","ReactDOM","render","React","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.ba394630.chunk.js","sourcesContent":["const AuthReducer = (state, action) => {\n  switch (action.type) {\n    case \"LOGIN_START\":\n      return {\n        user: null,\n        token: null,\n        isFetching: true,\n        error: false,\n      };\n    case \"LOGIN_SUCCESS\":\n      return {\n        user: action.payload.user,\n        token: action.payload.token,\n        isFetching: false,\n        error: false,\n      };\n    case \"LOGIN_FAILURE\":\n      return {\n        user: null,\n        token: null,\n        isFetching: false,\n        error: true,\n      };\n    case \"FOLLOW\":\n      return {\n        ...state,\n        user: {\n          ...state.user,\n          followings: [...state.user.followings, action.payload],\n        },\n      };\n    case \"UNFOLLOW\":\n      return {\n        ...state,\n        user: {\n          ...state.user,\n          followings: state.user.followings.filter(\n            (following) => following !== action.payload\n          ),\n        },\n      };\n    default:\n      return state;\n  }\n};\n\nexport default AuthReducer;\n","import { createContext, useEffect, useReducer,useState } from \"react\";\nimport AuthReducer from \"./AuthReducer\";\n\nconst INITIAL_STATE = {\n  user:JSON.parse(localStorage.getItem(\"user\")) || null,\n  token: localStorage.getItem(\"token\") || null,\n  isFetching: false,\n  error: false,\n};\n\n\nexport const AuthContext = createContext(INITIAL_STATE);\nexport const storeContext = createContext();\n\nexport const AuthContextProvider = ({ children }) => {\n  const [state, dispatch] = useReducer(AuthReducer, INITIAL_STATE);\n   const [passobject, setPassobject] = useState(null);\n  \n  useEffect(()=>{\n    localStorage.setItem(\"user\", JSON.stringify(state.user));\n    localStorage.setItem(\"token\", state.token || \"\");\n  },[state.user, state.token])\n  \n  return (\n    <AuthContext.Provider\n      value={{\n        user: state.user,\n        token: state.token,\n        isFetching: state.isFetching,\n        error: state.error,\n        dispatch,\n      }}\n    ><storeContext.Provider value={{ passobject,setPassobject }}>\n      {children}\n      </storeContext.Provider>\n    </AuthContext.Provider>\n  );\n};\n","//const isProduction = 'dev';\r\nconst isProduction = 'production';\r\n\r\nconst BASE_URL = isProduction==='production'\r\n  ? process.env.REACT_APP_API_URL_prod\r\n  : process.env.REACT_APP_API_URL_dev;\r\n\r\nconst SOCKET_URL = isProduction==='production'\r\n  ? process.env.REACT_APP_API_SocketURL_prod\r\n  : process.env.REACT_APP_API_SocketURL_dev;\r\n\r\nexport default {BASE_URL,SOCKET_URL};\r\n","import React, { useState, useEffect } from \"react\";\r\nimport {\r\n  GoogleMap,\r\n  LoadScript,\r\n  Marker\r\n} from \"@react-google-maps/api\";\r\nimport axios from \"axios\";\r\nimport config  from '../../connection';\r\n\r\nconst containerStyle = {\r\n  width: \"100%\",\r\n  height: \"500px\"\r\n};\r\n\r\nconst MyMap = () => {\r\n  const [currentPos, setCurrentPos] = useState(null); // User's current location\r\n  const [selectedLocation, setSelectedLocation] = useState(null); // Dropped pin\r\n  const [nearbyUsers, setNearbyUsers] = useState([]);\r\n  const {BASE_URL}=config \r\n\r\n  // Get user's current location on load\r\n  useEffect(() => {\r\n    navigator.geolocation.getCurrentPosition((position) => {\r\n      const pos = {\r\n        lat: position.coords.latitude,\r\n        lng: position.coords.longitude\r\n      };\r\n      setCurrentPos(pos);\r\n      setSelectedLocation(pos); // Default to current location\r\n      fetchNearbyUsers(pos.lat, pos.lng);\r\n    });\r\n  }, []);\r\n\r\n  \r\n    const fetchNearbyUsers = async (lat, lng) => {\r\n      try {\r\n        const res = await axios.get(`${BASE_URL}/maps/nearby-users?lat=${lat}&lng=${lng}`);\r\n        console.log(\"nearby-users\",res.data);\r\n        setNearbyUsers(res.data);\r\n      } catch (err) {\r\n        console.log(err);\r\n      }\r\n    };\r\n\r\n\r\n  // const fetchNearbyUsers = (lat, lng) => {\r\n  //   fetch(`/api/nearby-users?lat=${lat}&lng=${lng}`)\r\n  //     .then((res) => res.json())\r\n  //     .then((data) => setNearbyUsers(data));\r\n  // };\r\n\r\n  // Handle pin drop\r\n  const handleMapClick = (e) => {\r\n    const newLocation = {\r\n      lat: e.latLng.lat(),\r\n      lng: e.latLng.lng()\r\n    };\r\n    setSelectedLocation(newLocation);\r\n    fetchNearbyUsers(newLocation.lat, newLocation.lng);\r\n  };\r\n\r\n  return (\r\n    <LoadScript googleMapsApiKey=\"AIzaSyCSD9727tfkAQbU90cw0PQS6dz8D2f3_aU\">\r\n      <GoogleMap\r\n        mapContainerStyle={containerStyle}\r\n        center={selectedLocation || currentPos || { lat: 0, lng: 0 }}\r\n        zoom={14}\r\n        onClick={handleMapClick}\r\n      >\r\n        {/* Dropped pin or user location */}\r\n        {selectedLocation && (\r\n          <Marker position={selectedLocation} label=\"Selected\" />\r\n        )}\r\n\r\n        {/* Nearby users */}\r\n        {nearbyUsers.map((user, idx) => (\r\n          <Marker\r\n            key={idx}\r\n            position={{\r\n              lat: user.location.coordinates[1],\r\n              lng: user.location.coordinates[0]\r\n            }}\r\n            label={user.name}\r\n          />\r\n        ))}\r\n      </GoogleMap>\r\n    </LoadScript>\r\n  );\r\n};\r\n\r\nexport default MyMap;\r\n","import React from 'react';\r\nimport './popupwindow.css';\r\nimport MyMap from \"../../pages/MyMap/MyMap\";\r\n\r\nfunction Popupwindow({ onClose }) {\r\n  return (\r\n    <div className=\"modal-overlay\">\r\n      <div className=\"modal-content\">\r\n        <button className=\"close-button\" onClick={onClose}>X</button>\r\n        <h2>Popup Content</h2>\r\n        <p>This is a 70% screen modal popup.</p>\r\n        <MyMap />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Popupwindow;\r\n","import \"./topbar.css\";\nimport { Search, Person, Chat, Notifications,Place } from \"@material-ui/icons\";\nimport { Link } from \"react-router-dom\";\n//import MyLocationIcon from '@mui/icons-material/MyLocation';\nimport { useContext,useState } from \"react\";\nimport { AuthContext } from \"../../context/AuthContext\";\n// import { FaSignOutAlt,faPowerOff } from \"react-icons/fa\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faPowerOff } from \"@fortawesome/free-solid-svg-icons\";\n//import { useHistory } from \"react-router\";\n//import PlaceIcon from \"@mui/icons-material/Place\";\nimport Popupwindow from \"../popupwindow/Popupwindow\";\n\nexport default function Topbar() {\n  const { user } = useContext(AuthContext);\n  const PF = process.env.REACT_APP_PUBLIC_FOLDER;\n  const [showModal, setShowModal] = useState(false);\n  //const history = useHistory();\n  const handleLogout = () => {\n    localStorage.removeItem(\"user\"); // Remove specific item\n    localStorage.removeItem(\"token\");\n    // localStorage.clear(); // Use this to remove all items\n    // navigate(\"/login\"); // Redirect to login page\n    console.log(\"user\",user._id);\n    // history.push(\"/login\");\n    window.location.reload();\n  };\n  return (\n    <div className=\"topbarContainer\">\n      <div className=\"topbarLeft\">\n        <Link to=\"/\" style={{ textDecoration: \"none\" }}>\n          <span className=\"logo\">Anything</span>\n        </Link>\n      </div>\n      <div className=\"topbarCenter\">\n        <div className=\"searchbar\">\n          <Search className=\"searchIcon\" />\n          <input\n            placeholder=\"Search for friend, post or video\"\n            className=\"searchInput\"\n          />\n        </div>\n      </div>\n      {/* <Link to=\"/MyMap\" ><Place style={{color: \" #fcfaf9 \",}}/></Link> */}\n      <div>\n        <span onClick={() => setShowModal(true)}><Place style={{color: \" #fcfaf9 \",}}/></span>\n        {showModal && <Popupwindow onClose={() => setShowModal(false)} />}\n      </div>\n      <div className=\"topbarRight\">\n        <div className=\"topbarLinks\">\n          <span className=\"topbarLink\">\n          </span>\n          <Link to=\"/\" ><span className=\"topbarLink\">Homepage</span></Link>\n          \n        </div>\n        <div className=\"topbarIcons\">\n          {/* <div className=\"topbarIconItem\">\n            <Person />\n            <span className=\"topbarIconBadge\">1</span>\n          </div> */}\n          <Link to=\"/messenger\" >\n          <div className=\"topbarIconItem\">\n            <Chat style={{color: \" #fcfaf9 \",}}/>\n            {/* <span className=\"topbarIconBadge\">2</span> */}\n          </div>\n          </Link>\n          <div className=\"topbarIconItem\">\n            <Notifications />\n            <span className=\"topbarIconBadge\">1</span>\n          </div>\n        </div>\n        <Link to={`/profile/${user.username}`}>\n          <img\n            src={\n              user.profilePicture\n                ? PF + user.profilePicture\n                : PF + \"person/noAvatar.png\"\n            }\n            alt=\"\"\n            className=\"topbarImg\"\n          />\n        </Link>\n        <div className=\"topbarIconItem\">\n        <button onClick={handleLogout} \n          style={{\n          backgroundColor: \"#1877f2\",\n          border: \"none\",\n          borderRadius: \"5px\",\n          padding: \"10px\",\n          cursor: \"pointer\"\n        }}>\n          {/* <faPowerOff />  */}\n          {/* <i class=\"fa-solid fa-power-off\"></i> */}\n          <FontAwesomeIcon icon={faPowerOff} \n            style={{ fontSize:\"20px\",color: \"white\", \n              backgroundColor: \"#1877f2\", border: \"none\",\n              padding:0,margin:0\n            }}\n          />\n        </button>\n        </div>\n        \n      </div>\n    </div>\n  );\n}\n","import \"./sidebar.css\";\nimport {\n  RssFeed,\n  Chat,\n} from \"@material-ui/icons\";\nimport { Users } from \"../../dummyData\";\nimport CloseFriend from \"../closeFriend/CloseFriend\";\n\nexport default function Sidebar() {\n  return (\n    <div className=\"sidebar\">\n      <div className=\"sidebarWrapper\">\n        <ul className=\"sidebarList\">\n          <li className=\"sidebarListItem\">\n            <RssFeed className=\"sidebarIcon\" />\n            <span className=\"sidebarListItemText\">Feed</span>\n          </li>\n          <li className=\"sidebarListItem\">\n            <Chat className=\"sidebarIcon\" />\n            <span className=\"sidebarListItemText\">Chats</span>\n          </li>\n          \n        </ul>\n        <button className=\"sidebarButton\">Show More</button>\n        <hr className=\"sidebarHr\" />\n        {/* <ul className=\"sidebarFriendList\">\n          {Users.map((u) => (\n            <CloseFriend key={u.id} user={u} />\n          ))}\n        </ul> */}\n      </div>\n    </div>\n  );\n}\n","import \"./post.css\";\nimport { MoreVert } from \"@material-ui/icons\";\nimport { useContext, useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport { format } from \"timeago.js\";\nimport { Link } from \"react-router-dom\";\nimport { AuthContext } from \"../../context/AuthContext\";\nimport { useHistory } from 'react-router-dom';\nimport { storeContext } from \"../../context/AuthContext\";\nimport config  from '../../connection';\n\nexport default function Post({ post }) {\n  const [like, setLike] = useState(post.likes.length);\n  const [isLiked, setIsLiked] = useState(false);\n  const [user, setUser] = useState({});\n  const PF = process.env.REACT_APP_PUBLIC_FOLDER;\n  const { user: currentUser } = useContext(AuthContext);\n  const history = useHistory();\nlet {setPassobject} = useContext(storeContext);\n  const {BASE_URL}=config \n\n  useEffect(() => {\n    setIsLiked(post.likes.includes(currentUser._id));\n  }, [currentUser._id, post.likes]);\n\n  useEffect(() => {\n    const fetchUser = async () => {\n      const res = await axios.get(`${BASE_URL}/users?userId=${post.userId}`);\n      setUser(res.data);\n    };\n    fetchUser();\n  }, [post.userId]);\n\n  const messageClick = async (postuser) => {\n      try {console.log(\"postuser..\",postuser);\n        const res = await axios.get(\n          `${BASE_URL}/conversations/find/${currentUser._id}/${postuser}`\n        );\n        console.log(\"con..\",res.data);\n        if(res.data===null){\n          const senderId=currentUser._id\n          const receiverId=postuser\n            const newconv = await axios.post(`${BASE_URL}/conversations`,{senderId,receiverId});\n            console.log(\"newconv\",newconv);\n            setPassobject(newconv.data)\n        }\n        else{setPassobject(res.data)}\n        \n        history.push(`/messenger`);\n      } catch (err) {\n        console.log(err);\n      }\n    };\n\n  const likeHandler = () => {\n    try {\n      axios.put(`${BASE_URL}/posts/` + post._id + \"/like\", { userId: currentUser._id });\n    } catch (err) {}\n    setLike(isLiked ? like - 1 : like + 1);\n    setIsLiked(!isLiked);\n  };\n  return (\n    <div className=\"post\">\n      <div className=\"postWrapper\">\n        <div className=\"postTop\">\n          <div className=\"postTopLeft\">\n            <Link to={`/profile/${user.username}`}>\n              <img\n                className=\"postProfileImg\"\n                src={\n                  user.profilePicture\n                    ? PF + user.profilePicture\n                    : PF + \"person/noAvatar.png\"\n                }\n                alt=\"\"\n              />\n            </Link>\n            <span className=\"postUsername\">{user.username}</span>\n            <span className=\"postDate\">{format(post.createdAt)}</span>\n          </div>\n          <div className=\"postTopRight\">\n            <MoreVert />\n          </div>\n        </div>\n        <div className=\"postCenter\">\n          <span className=\"postText\">{post?.desc}</span>\n          <img className=\"postImg\" src={post.img.startsWith(\"https://\") ? post.img : PF + post.img} alt=\"\" />\n        </div>\n        <div className=\"postBottom\">\n          <div className=\"postBottomLeft\">\n            <img\n              className=\"likeIcon\"\n              src={`${PF}like.png`}\n              onClick={likeHandler}\n              alt=\"\"\n            />\n            <img\n              className=\"likeIcon\"\n              src={`${PF}heart.png`}\n              onClick={likeHandler}\n              alt=\"\"\n            />\n            <span className=\"postLikeCounter\">{like} people like it</span>\n          </div>\n          <div className=\"postBottomRight\">\n            <span className=\"postCommentText\" onClick={() => messageClick(post.userId)}>{post.comment} Message</span>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import \"./share.css\";\nimport {\n  PermMedia,\n  Label,\n  Room,\n  EmojiEmotions,\n  Cancel,\n} from \"@material-ui/icons\";\nimport { useContext, useRef, useState } from \"react\";\nimport { AuthContext } from \"../../context/AuthContext\";\nimport axios from \"axios\";\nimport config  from '../../connection';\n\nexport default function Share() {\n  const { user } = useContext(AuthContext);\n  const PF = process.env.REACT_APP_PUBLIC_FOLDER;\n  const desc = useRef();\n  const [file, setFile] = useState(null);\n  const {BASE_URL}=config \n\n  const submitHandler = async (e) => {\n    e.preventDefault();\n    const newPost = {\n      userId: user._id,\n      desc: desc.current.value,\n    };console.log(\"file\",file)\n    if (file) {\n      const data = new FormData();\n      const fileName = Date.now() + file.name;\n      data.append(\"name\", fileName);\n      data.append(\"file\", file);\n      //newPost.img = fileName;\n      console.log(\"newpost\",newPost);console.log(\"data\",data);\n      try {\n        const res=await axios.post(`${BASE_URL}/upload`, data);console.log(\"res1\",res.data);\n        newPost.img = await res.data.url;\n      } catch (err) {console.log(\"err...\",err)}\n    }\n    try {\n      await axios.post(`${BASE_URL}/posts`, newPost);\n      window.location.reload();\n    } catch (err) {}\n  };\n\n  return (\n    <div className=\"share\">\n      <div className=\"shareWrapper\">\n        <div className=\"shareTop\">\n          <img\n            className=\"shareProfileImg\"\n            src={\n              user.profilePicture\n                ? PF + user.profilePicture\n                : PF + \"person/noAvatar.png\"\n            }\n            alt=\"\"\n          />\n          <input\n            placeholder={\"What's in your mind \" + user.username + \"?\"}\n            className=\"shareInput\"\n            ref={desc}\n          />\n        </div>\n        <hr className=\"shareHr\" />\n        {file && (\n          <div className=\"shareImgContainer\">\n            <img className=\"shareImg\" src={URL.createObjectURL(file)} alt=\"\" />\n            <Cancel className=\"shareCancelImg\" onClick={() => setFile(null)} />\n          </div>\n        )}\n        <form className=\"shareBottom\" onSubmit={submitHandler}>\n          <div className=\"shareOptions\">\n            <label htmlFor=\"file\" className=\"shareOption\">\n              <PermMedia htmlColor=\"tomato\" className=\"shareIcon\" />\n              <span className=\"shareOptionText\">Photo or Video</span>\n              <input\n                style={{ display: \"none\" }}\n                type=\"file\"\n                id=\"file\"\n                accept=\".png,.jpeg,.jpg\"\n                onChange={(e) => setFile(e.target.files[0])}\n              />\n            </label>\n            <div className=\"shareOption\">\n              <Label htmlColor=\"blue\" className=\"shareIcon\" />\n              <span className=\"shareOptionText\">Tag</span>\n            </div>\n            <div className=\"shareOption\">\n              <Room htmlColor=\"green\" className=\"shareIcon\" />\n              <span className=\"shareOptionText\">Location</span>\n            </div>\n            <div className=\"shareOption\">\n              <EmojiEmotions htmlColor=\"goldenrod\" className=\"shareIcon\" />\n              <span className=\"shareOptionText\">Feelings</span>\n            </div>\n          </div>\n          <button className=\"shareButton\" type=\"submit\">\n            Share\n          </button>\n        </form>\n      </div>\n    </div>\n  );\n}\n","import { useContext, useEffect, useState } from \"react\";\nimport Post from \"../post/Post\";\nimport Share from \"../share/Share\";\nimport \"./feed.css\";\nimport axios from \"axios\";\nimport { AuthContext } from \"../../context/AuthContext\";\nimport config  from '../../connection';\n\nexport default function Feed({ username }) {\n  const [posts, setPosts] = useState([]);\n  const { user } = useContext(AuthContext);\n  const {BASE_URL}= config \n\n  //const [currentPos, setCurrentPos] = useState(null); // User's current location\n  //const [selectedLocation, setSelectedLocation] = useState(null); // Dropped pin\n  const [nearbyUsers, setNearbyUsers] = useState([]);\n\n  // Get user's current location on load\n  useEffect(() => {\n    navigator.geolocation.getCurrentPosition((position) => {\n      const pos = {\n        lat: position.coords.latitude,\n        lng: position.coords.longitude\n      };\n      //setCurrentPos(pos);\n      //setSelectedLocation(pos); // Default to current location\n      fetchNearbyUsers(pos.lat, pos.lng);\n      updateuserlocation(pos.lat, pos.lng);console.log(\"BASE_URL\",BASE_URL)\n      \n    });\n  }, []);\n\n   const updateuserlocation = async (latti,longi)=>{\n    try{const userid=user._id\n      const newconv = await axios.post(`${BASE_URL}/maps/updatelocation`,{userid,latti,longi});\n      console.log(\"newconv\",newconv)\n    }catch(err) {\n        console.log(err);\n    }\n   }\n\n  \n    const fetchNearbyUsers = async (lat, lng) => {\n      try {\n        const res = await axios.get(`${BASE_URL}/maps/nearby-users?lat=${lat}&lng=${lng}`);\n        console.log(\"nearby-users\",res.data);\n        setNearbyUsers(res.data);\n        \n      } catch (err) {\n        console.log(err);\n      }\n    };\n\n\n  useEffect(() => {\n    const fetchPosts = async () => {console.log(\"username\",username);console.log(\"nearbyUserspost\",nearbyUsers);\n      const res = username\n        ? await axios.get(`${BASE_URL}/posts/profile/` + username)\n        : await axios.post(`${BASE_URL}/posts/timeline/` + user._id,nearbyUsers);\n      setPosts(\n        res.data.sort((p1, p2) => {\n          return new Date(p2.createdAt) - new Date(p1.createdAt);\n        })\n      );\n    };\n    fetchPosts();\n  }, [username, user._id,nearbyUsers]);\n\n  return (\n    <div className=\"feed\">\n      <div className=\"feedWrapper\">\n        {(!username || username === user.username) && <Share />}\n        {posts.map((p) => (\n          <Post key={p._id} post={p} />\n        ))}\n      </div>\n    </div>\n  );\n}\n","import \"./rightbar.css\";\nimport { Users } from \"../../dummyData\";\nimport Online from \"../online/Online\";\nimport { useContext, useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport { Link } from \"react-router-dom\";\nimport { AuthContext } from \"../../context/AuthContext\";\nimport { Add, Remove } from \"@material-ui/icons\";\nimport config from '../../connection';\n\nexport default function Rightbar({ user }) {\n  const PF = process.env.REACT_APP_PUBLIC_FOLDER;\n  const [friends, setFriends] = useState([]);\n  const { user: currentUser, dispatch } = useContext(AuthContext);\n  const [followed, setFollowed] = useState(\n    currentUser.followings.includes(user?.id)\n  );\n  const {BASE_URL}=config \n\n  useEffect(() => {\n    const getFriends = async () => {\n      try {\n        const friendList = await axios.get(`${BASE_URL}/users/friends/` + user._id);\n        setFriends(friendList.data);\n      } catch (err) {\n        console.log(err);\n      }\n    };\n    getFriends();\n  }, [user]);\n\n  const handleClick = async () => {\n    try {\n      if (followed) {\n        await axios.put(`${BASE_URL}/users/${user._id}/unfollow`, {\n          userId: currentUser._id,\n        });\n        dispatch({ type: \"UNFOLLOW\", payload: user._id });\n      } else {\n        await axios.put(`${BASE_URL}/users/${user._id}/follow`, {\n          userId: currentUser._id,\n        });\n        dispatch({ type: \"FOLLOW\", payload: user._id });\n      }\n      setFollowed(!followed);\n    } catch (err) {\n    }\n  };\n\n  const HomeRightbar = () => {\n    return (\n      <>\n        <div className=\"birthdayContainer\">\n          <img className=\"birthdayImg\" src=\"assets/gift.png\" alt=\"\" />\n          <span className=\"birthdayText\">\n            <b>Pola Foster</b> and <b>3 other friends</b> have a birhday today.\n          </span>\n        </div>\n        <img className=\"rightbarAd\" src=\"assets/ad.png\" alt=\"\" />\n        <h4 className=\"rightbarTitle\">Online Friends</h4>\n        <ul className=\"rightbarFriendList\">\n          {Users.map((u) => (\n            <Online key={u.id} user={u} />\n          ))}\n        </ul>\n      </>\n    );\n  };\n\n  const ProfileRightbar = () => {\n    return (\n      <>\n        {user.username !== currentUser.username && (\n          <button className=\"rightbarFollowButton\" onClick={handleClick}>\n            {followed ? \"Unfollow\" : \"Follow\"}\n            {followed ? <Remove /> : <Add />}\n          </button>\n        )}\n        <h4 className=\"rightbarTitle\">User information</h4>\n        <div className=\"rightbarInfo\">\n          <div className=\"rightbarInfoItem\">\n            <span className=\"rightbarInfoKey\">City:</span>\n            <span className=\"rightbarInfoValue\">{user.city}</span>\n          </div>\n          <div className=\"rightbarInfoItem\">\n            <span className=\"rightbarInfoKey\">From:</span>\n            <span className=\"rightbarInfoValue\">{user.from}</span>\n          </div>\n          <div className=\"rightbarInfoItem\">\n            <span className=\"rightbarInfoKey\">Relationship:</span>\n            <span className=\"rightbarInfoValue\">\n              {user.relationship === 1\n                ? \"Single\"\n                : user.relationship === 1\n                ? \"Married\"\n                : \"-\"}\n            </span>\n          </div>\n        </div>\n        <h4 className=\"rightbarTitle\">User friends</h4>\n        <div className=\"rightbarFollowings\">\n          {friends.map((friend) => (\n            <Link\n              to={\"/profile/\" + friend.username}\n              style={{ textDecoration: \"none\" }}\n            >\n              <div className=\"rightbarFollowing\">\n                <img\n                  src={\n                    friend.profilePicture\n                      ? PF + friend.profilePicture\n                      : PF + \"person/noAvatar.png\"\n                  }\n                  alt=\"\"\n                  className=\"rightbarFollowingImg\"\n                />\n                <span className=\"rightbarFollowingName\">{friend.username}</span>\n              </div>\n            </Link>\n          ))}\n        </div>\n      </>\n    );\n  };\n  return (\n    <div className=\"rightbar\">\n      <div className=\"rightbarWrapper\">\n        {/* {user ? <ProfileRightbar /> : <HomeRightbar />} */}\n      </div>\n    </div>\n  );\n}\n","import Topbar from \"../../components/topbar/Topbar\";\nimport Sidebar from \"../../components/sidebar/Sidebar\";\nimport Feed from \"../../components/feed/Feed\";\nimport Rightbar from \"../../components/rightbar/Rightbar\";\nimport \"./home.css\"\n\nexport default function Home() {\n  return (\n    <>\n      <Topbar />\n      <div className=\"homeContainer\">\n        <Sidebar />\n        <Feed/>\n        <Rightbar/>\n      </div>\n    </>\n  );\n}\n","import axios from \"axios\";\nimport config  from './connection';\nconst {BASE_URL}=config \n\nexport const loginCall = async (userCredential, dispatch) => {\n  dispatch({ type: \"LOGIN_START\" });\n  try {\n    const res = await axios.post(`${BASE_URL}/auth/login`, userCredential);console.log(\"ressss\",res.data)\n    dispatch({ type: \"LOGIN_SUCCESS\", payload: res.data });\n  } catch (err) {\n    dispatch({ type: \"LOGIN_FAILURE\", payload: err });\n  }\n};\n\n","import { useContext, useRef,useState } from \"react\";\nimport \"./login.css\";\nimport { loginCall } from \"../../apiCalls\";\nimport { AuthContext } from \"../../context/AuthContext\";\nimport { CircularProgress } from \"@material-ui/core\";\nimport { useHistory } from \"react-router\";\nimport config  from '../../connection';\n\nexport default function Login() {\n  const email = useRef();\n  const password = useRef();\n  const { isFetching, dispatch } = useContext(AuthContext);\n  const history = useHistory();\n  const { BASE_URL } = config;\n\n  const handleClick = async(e) => {\n    e.preventDefault();\n    try{await loginCall(\n                { email: email.current.value, password: password.current.value },\n                dispatch\n              );\n    }catch (err) {\n      console.log(err);\n    }\n  };\n\n  const registerpage = () => {\n    history.push(\"/register\");\n  };\n\n  \n    const [otpemail, setotpEmail] = useState('');\n    const sendOtp = async () => {\n      await fetch(`${BASE_URL}/emailotp/send-otp`, {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ otpemail }),\n      });\n      alert('OTP sent');\n    };\n\n   // const [email, setEmail] = useState('');\n  const [otp, setOtp] = useState('');\n  const verifyOtp = async () => {\n    const res = await fetch(`${BASE_URL}/emailotp/verify-otp`, {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify({ otpemail, otp }),\n    });\n    const data = await res.json();\n    alert(data.message);\n  };\n  \n\n  return (\n    <div className=\"login\">\n      <div className=\"loginWrapper\">\n        <div className=\"loginLeft\">\n          <h3 className=\"loginLogo\">Anything</h3>\n          <span className=\"loginDesc\">\n            Connect and Share anything with friends and the world around you on Anything App.\n          </span>\n        </div>\n        <div className=\"loginRight\">\n          <form className=\"loginBox\" onSubmit={handleClick}>\n            <input\n              placeholder=\"Email\"\n              type=\"email\"\n              required\n              className=\"loginInput\"\n              ref={email}\n            />\n            <input\n              placeholder=\"Password\"\n              type=\"password\"\n              required\n              minLength=\"6\"\n              className=\"loginInput\"\n              ref={password}\n            />\n            <button className=\"loginButton\" type=\"submit\" disabled={isFetching}>\n              {isFetching ? (\n                <CircularProgress color=\"white\" size=\"20px\" />\n              ) : (\n                \"Log In\"\n              )}\n            </button>\n            <span className=\"loginForgot\">Forgot Password?</span>\n            \n          </form>\n            {/* <div>\n              <input type=\"email\" value={otpemail} onChange={e => setotpEmail(e.target.value)} />\n              <button onClick={sendOtp}>Send OTP</button>\n            </div>\n            <div>\n              <input type=\"email\" value={otpemail} onChange={e => setotpEmail(e.target.value)} />\n              <input type=\"text\" value={otp} onChange={e => setOtp(e.target.value)} />\n              <button onClick={verifyOtp}>Verify OTP</button>\n            </div> */}\n          <button className=\"loginRegisterButton\" onClick={registerpage}>\n              {isFetching ? (\n                <CircularProgress color=\"white\" size=\"20px\" />\n              ) : (\n                \"Create a New Account\"\n              )}\n            </button>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import \"./profile.css\";\nimport Topbar from \"../../components/topbar/Topbar\";\nimport Sidebar from \"../../components/sidebar/Sidebar\";\nimport Feed from \"../../components/feed/Feed\";\nimport Rightbar from \"../../components/rightbar/Rightbar\";\nimport { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport { useParams } from \"react-router\";\nimport config  from '../../connection';\n\nexport default function Profile({ token }) {\n  const PF = process.env.REACT_APP_PUBLIC_FOLDER;\n  const [user, setUser] = useState({});\n  const username = useParams().username;\n  const {BASE_URL}=config \n\n  useEffect(() => {\n    const fetchUser = async () => {\n      const res = await axios.get(`${BASE_URL}/users?username=${username}`,{headers: { Authorization: `Bearer ${token}` }});\n      setUser(res.data);\n    };\n    fetchUser();\n  }, [username,token]);\n\n  return (\n    <>\n      <Topbar />\n      <div className=\"profile\">\n        <Sidebar />\n        <div className=\"profileRight\">\n          <div className=\"profileRightTop\">\n            <div className=\"profileCover\">\n              <img\n                className=\"profileCoverImg\"\n                src={\n                  user.coverPicture\n                    ? PF + user.coverPicture\n                    : PF + \"person/noCover.png\"\n                }\n                alt=\"\"\n              />\n              <img\n                className=\"profileUserImg\"\n                src={\n                  user.profilePicture\n                    ? PF + user.profilePicture\n                    : PF + \"person/noAvatar.png\"\n                }\n                alt=\"\"\n              />\n            </div>\n            <div className=\"profileInfo\">\n              <h4 className=\"profileInfoName\">{user.username}</h4>\n              <span className=\"profileInfoDesc\">{user.desc}</span>\n            </div>\n          </div>\n          <div className=\"profileRightBottom\">\n            <Feed username={username} />\n            <Rightbar user={user} />\n          </div>\n        </div>\n      </div>\n    </>\n  );\n}\n","import axios from \"axios\";\nimport { useRef } from \"react\";\nimport \"./register.css\";\nimport { useHistory } from \"react-router\";\nimport config  from '../../connection';\n\nexport default function Register() {\n  const username = useRef();\n  const email = useRef();\n  const password = useRef();\n  const passwordAgain = useRef();\n  const history = useHistory();\n  const {BASE_URL}=config \n\n  const handleClick = async (e) => {\n    e.preventDefault();\n    if (passwordAgain.current.value !== password.current.value) {\n      passwordAgain.current.setCustomValidity(\"Passwords don't match!\");\n    } else {\n      const user = {\n        username: username.current.value,\n        email: email.current.value,\n        password: password.current.value,\n      };\n      try {console.log(\"inside\");\n        await axios.post(`${BASE_URL}/auth/register`, user);\n        history.push(\"/login\");\n      } catch (err) {\n        console.log(err);\n      }\n    }\n  };\n\n  const loginpage = () => {\n    console.log('Button clicked!');\n    history.push(\"/login\");\n  };\n\n  return (\n    <div className=\"login\">\n      <div className=\"loginWrapper\">\n        <div className=\"loginLeft\">\n          <h3 className=\"loginLogo\">Anything</h3>\n          <span className=\"loginDesc\">\n            Connect and Share anything with friends and the world around you on Anything App.\n          </span>\n        </div>\n        <div className=\"loginRight\">\n          <form className=\"loginBox\" onSubmit={handleClick}>\n            <input\n              placeholder=\"Username\"\n              required\n              ref={username}\n              className=\"loginInput\"\n            />\n            <input\n              placeholder=\"Email\"\n              required\n              ref={email}\n              className=\"loginInput\"\n              type=\"email\"\n            />\n            <input\n              placeholder=\"Password\"\n              required\n              ref={password}\n              className=\"loginInput\"\n              type=\"password\"\n              minLength=\"6\"\n            />\n            <input\n              placeholder=\"Password Again\"\n              required\n              ref={passwordAgain}\n              className=\"loginInput\"\n              type=\"password\"\n            />\n            <button className=\"loginButton\" type=\"submit\">\n              Sign Up\n            </button>\n            \n          </form>\n          <button className=\"loginRegisterButton\" onClick={loginpage}>Log into Account</button>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import axios from \"axios\";\nimport { useEffect, useState } from \"react\";\nimport \"./conversation.css\";\nimport config  from '../../connection';\n\nexport default function Conversation({ conversation, currentUser }) {\n  const [user, setUser] = useState(null);\n  const PF = process.env.REACT_APP_PUBLIC_FOLDER;\n  const {BASE_URL}=config \n\n  useEffect(() => {\n    const friendId = conversation.members.find((m) => m !== currentUser._id);\n\n    const getUser = async () => {\n      try {\n        const res = await axios(`${BASE_URL}/users?userId=` + friendId);\n        setUser(res.data);\n      } catch (err) {\n        console.log(err);\n      }\n    };\n    getUser();\n  }, [currentUser, conversation]);\n\n  return (\n    <div className=\"conversation\">\n      <img\n        className=\"conversationImg\"\n        src={\n          user?.profilePicture\n            ? PF + user.profilePicture\n            : PF + \"person/noAvatar.png\"\n        }\n        alt=\"\"\n      />\n      <span className=\"conversationName\">{user?.username}</span>\n    </div>\n  );\n}\n","import \"./message.css\";\nimport { format } from \"timeago.js\";\n\nexport default function Message({ message, own }) {\n  return (\n    <div className={own ? \"message own\" : \"message\"}>\n      <div className=\"messageTop\">\n        <img\n          className=\"messageImg\"\n          src=\"https://images.pexels.com/photos/3686769/pexels-photo-3686769.jpeg?auto=compress&cs=tinysrgb&dpr=2&w=500\"\n          alt=\"\"\n        />\n        <p className=\"messageText\">{message.text}</p>\n      </div>\n      <div className=\"messageBottom\">{format(message.createdAt)}</div>\n    </div>\n  );\n}\n","import axios from \"axios\";\nimport { useEffect, useState } from \"react\";\nimport \"./chatOnline.css\";\nimport config  from '../../connection';\n\nexport default function ChatOnline({ onlineUsers, currentId, setCurrentChat }) {\n  const [friends, setFriends] = useState([]);\n  const [onlineFriends, setOnlineFriends] = useState([]);\n  const PF = process.env.REACT_APP_PUBLIC_FOLDER;\nconst {BASE_URL}=config \n  useEffect(() => {\n    const getFriends = async () => {\n      const res = await axios.get(`${BASE_URL}/users/friends/` + currentId);\n      setFriends(res.data);\n    };\n\n    getFriends();\n  }, [currentId]);\n\n  useEffect(() => {\n    setOnlineFriends(friends.filter((f) => onlineUsers.includes(f._id)));\n  }, [friends, onlineUsers]);\n\n  const handleClick = async (user) => {\n    try {\n      const res = await axios.get(\n        `${BASE_URL}/conversations/find/${currentId}/${user._id}`\n      );\n      setCurrentChat(res.data);\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  return (\n    <div className=\"chatOnline\">\n      {onlineFriends.map((o) => (\n        <div className=\"chatOnlineFriend\" onClick={() => handleClick(o)}>\n          <div className=\"chatOnlineImgContainer\">\n            <img\n              className=\"chatOnlineImg\"\n              src={\n                o?.profilePicture\n                  ? PF + o.profilePicture\n                  : PF + \"person/noAvatar.png\"\n              }\n              alt=\"\"\n            />\n            <div className=\"chatOnlineBadge\"></div>\n          </div>\n          <span className=\"chatOnlineName\">{o?.username}</span>\n        </div>\n      ))}\n    </div>\n  );\n}\n","import \"./messenger.css\";\nimport Topbar from \"../../components/topbar/Topbar\";\nimport Conversation from \"../../components/conversations/Conversation\";\nimport Message from \"../../components/message/Message\";\nimport ChatOnline from \"../../components/chatOnline/ChatOnline\";\nimport { useContext, useEffect, useRef, useState } from \"react\";\nimport { AuthContext } from \"../../context/AuthContext\";\nimport { storeContext } from \"../../context/AuthContext\";\nimport axios from \"axios\";\nimport { io } from \"socket.io-client\";\nimport config  from '../../connection';\n//import { useParams } from 'react-router-dom';\n\nexport default function Messenger() {\n  const [conversations, setConversations] = useState([]);\n  const [currentChat, setCurrentChat] = useState(null);\n  const [messages, setMessages] = useState([]);\n  const [newMessage, setNewMessage] = useState(\"\");\n  const [arrivalMessage, setArrivalMessage] = useState(null);\n  const [onlineUsers, setOnlineUsers] = useState([]);\n  const socket = useRef();\n  const { user } = useContext(AuthContext);\n  const scrollRef = useRef();\n  //const { convid } = useParams();\n  const  {passobject}  = useContext(storeContext);\n  //const redirectedconv = match.params.convid;\n  const {BASE_URL,SOCKET_URL}=config \n  \n  useEffect(() => {\n    socket.current = io(`http://${SOCKET_URL}`);\n    socket.current.on(\"getMessage\", (data) => {\n      setArrivalMessage({\n        sender: data.senderId,\n        text: data.text,\n        createdAt: Date.now(),\n      });\n    });\n  }, []);\n\n  useEffect(() => {\n    arrivalMessage &&\n      currentChat?.members.includes(arrivalMessage.sender) &&\n      setMessages((prev) => [...prev, arrivalMessage]);\n  }, [arrivalMessage, currentChat]);\n\n  useEffect(() => {\n    socket.current.emit(\"addUser\", user._id);\n    socket.current.on(\"getUsers\", (users) => {\n      setOnlineUsers(\n        user.followings.filter((f) => users.some((u) => u.userId === f))\n      );\n    });\n  }, [user]);\n\n  useEffect(() => {\n    const getConversations = async () => {\n      try {\n        const res = await axios.get(`${BASE_URL}/conversations/` + user._id);console.log(\"convs\",res.data);\n        setConversations(res.data);\n      } catch (err) {\n        console.log(err);\n      }\n    };\n    getConversations();\n  }, [user._id]);\n\n  useEffect(() => {\n    const getMessages = async () => {\n      try {\n        const res = await axios.get(`${BASE_URL}/messages/` + currentChat?._id);\n        setMessages(res.data);\n      } catch (err) {\n        console.log(err);\n      }\n    };\n    getMessages();\n  }, [currentChat]);\n\n  useEffect(() => {\n    const getMessages = async () => {\n      try {console.log(\"passobject\",passobject);\n        const res = await axios.get(`${BASE_URL}/messages/` + passobject._id);\n        setMessages(res.data);\n      } catch (err) {\n        console.log(err);\n      }\n    };\n    getMessages();\n    setCurrentChat(passobject)\n  },[passobject]);\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    const message = {\n      sender: user._id,\n      text: newMessage,\n      conversationId: currentChat._id,\n    };\n\n    const receiverId = currentChat.members.find(\n      (member) => member !== user._id\n    );\n\n    socket.current.emit(\"sendMessage\", {\n      senderId: user._id,\n      receiverId,\n      text: newMessage,\n    });\n\n    try {\n      const res = await axios.post(`${BASE_URL}/messages`, message);\n      setMessages([...messages, res.data]);\n      setNewMessage(\"\");\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  useEffect(() => {\n    scrollRef.current?.scrollIntoView({ behavior: \"smooth\" });\n  }, [messages]);\n\n  return (\n    <>\n      <Topbar />\n      <div className=\"messenger\">\n        <div className=\"chatMenu\">\n          <div className=\"chatMenuWrapper\">\n            <input placeholder=\"Search for friends\" className=\"chatMenuInput\" />\n            {conversations.map((c) => (\n              <div onClick={() => {setCurrentChat(c);console.log(\"currchat\",c)}}>\n                <Conversation conversation={c} currentUser={user} />\n              </div>\n            ))}\n          </div>\n        </div>\n        <div className=\"chatBox\">\n          <div className=\"chatBoxWrapper\">\n            {currentChat ? (\n              <>\n                <div className=\"chatBoxTop\">\n                  {messages.map((m) => (\n                    <div ref={scrollRef}>\n                      <Message message={m} own={m.sender === user._id} />\n                    </div>\n                  ))}\n                </div>\n                <div className=\"chatBoxBottom\">\n                  <textarea\n                    className=\"chatMessageInput\"\n                    placeholder=\"write something...\"\n                    onChange={(e) => setNewMessage(e.target.value)}\n                    value={newMessage}\n                  ></textarea>\n                  <button className=\"chatSubmitButton\" onClick={handleSubmit}>\n                    Send\n                  </button>\n                </div>\n              </>\n            ) : (\n              <span className=\"noConversationText\">\n                Open a conversation to start a chat.\n              </span>\n            )}\n          </div>\n        </div>\n        <div className=\"chatOnline\">\n          <div className=\"chatOnlineWrapper\">\n            <ChatOnline\n              onlineUsers={onlineUsers}\n              currentId={user._id}\n              setCurrentChat={setCurrentChat}\n            />\n          </div>\n        </div>\n      </div>\n    </>\n  );\n}\n","import Home from \"./pages/home/Home\";\nimport Login from \"./pages/login/Login\";\nimport Profile from \"./pages/profile/Profile\";\nimport Register from \"./pages/register/Register\";\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n  Redirect ,\n} from \"react-router-dom\";\nimport { useContext } from \"react\";\nimport { AuthContext } from \"./context/AuthContext\";\nimport Messenger from \"./pages/messenger/Messenger\";\nimport MyMap from \"./pages/MyMap/MyMap\";\n\nfunction App() {\n  const { user,token } = useContext(AuthContext);\n  return (\n    <Router>\n      <Switch>\n        <Route exact path=\"/\">\n          {user ? <Home /> : <Register />}\n        </Route>\n        <Route path=\"/login\">{user ? <Redirect  to=\"/\" /> : <Login />}</Route>\n        <Route path=\"/register\">\n          {user ? <Redirect to=\"/\" /> : <Register />}\n        </Route>\n        <Route path=\"/messenger\">\n          {!user ? <Redirect to=\"/\" /> : <Messenger />}\n        </Route>\n        <Route path=\"/MyMap\">\n          {!user ? <Redirect to=\"/\" /> : <MyMap />}\n        </Route>\n        <Route path=\"/profile/:username\">\n          <Profile token={token}/>\n        </Route>\n      </Switch>\n    </Router>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport { AuthContextProvider } from \"./context/AuthContext\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <AuthContextProvider>\n      <App />\n    </AuthContextProvider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}